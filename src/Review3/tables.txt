connect system/ventech
/
create user child identified by child
/
grant connect,resource to child
/
connect child/child
/
CREATE TABLE reg
(
EMP_ID VARCHAR2(20) CONSTRAINT REG_ID_PK PRIMARY KEY, 
USERNAME VARCHAR2(20) NOT NULL,
PASSWORD VARCHAR2(20) NOT NULL,
USER_TYPE VARCHAR2(20) NOT NULL,
AREA VARCHAR2(20) NOT NULL,
APPROVAL VARCHAR2(20) NOT NULL
)
/
CREATE TABLE NEWS
(
NEWS_ID VARCHAR2(20) CONSTRAINT NEWS_ID_PK PRIMARY KEY,
EMP_ID VARCHAR2(20) CONSTRAINT NEWS_EMP_ID_FK REFERENCES reg(EMP_ID),
NEWS VARCHAR2(20) NOT NULL,
N_DATE DATE NOT NULL,
APPROVAL VARCHAR2(20) NOT NULL
)
/
CREATE TABLE COMPLAINT
(
COMP_ID VARCHAR2(20) CONSTRAINT CMP_ID_PK PRIMARY KEY,
DESCRIPTION VARCHAR2(20) NOT NULL,
AREA VARCHAR2(20) NOT NULL,
STATUS_ID VARCHAR2(20) CONSTRAINT COMPLAINT_STATUS_ID_FK REFERENCES STATUS(STATUS_ID)
)
/
CREATE TABLE STATUS
(
STATUS_ID VARCHAR2(20) CONSTRAINT STATUS_ID_PK PRIMARY KEY,
STATUS VARCHAR2(20) NOT NULL
)
/
CREATE TABLE ADMIN
(
USERNAME VARCHAR2(20) NOT NULL,
PASSWORD VARCHAR2(20) NOT NULL

)
/
CREATE SEQUENCE   "S11"  MINVALUE 1 MAXVALUE 9999 INCREMENT BY 1 START WITH 001 NOCACHE  NOORDER  NOCYCLE

/
CREATE OR REPLACE FUNCTION GET_cmp_ID RETURN NUMBER IS
  ID NUMBER(4);
BEGIN
   SELECT S11.NEXT VAL INTO ID FROM DUAL;
   RETURN ID;
END;
/